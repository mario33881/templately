
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>templately &#8212; templately 01_01 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/style.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link href="../_static/style.css" rel="stylesheet" type="text/css">

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for templately</h1><div class="highlight"><pre>
<span></span><span class="ch">#!/usr/bin/env python3</span>
<span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="sd">Templately enables you to inject files content</span>
<span class="sd">inside a main template file.</span>

<span class="sd">Usage:</span>
<span class="sd"> templately.py [--ot=&lt;opening_tag&gt;] [--po=&lt;pattern_opening&gt;] [--ct=&lt;closing_tag&gt;]</span>
<span class="sd">                     &lt;template&gt; &lt;output&gt; &lt;placeholder=file&gt;...</span>
<span class="sd"> templately.py (-h | --help)</span>
<span class="sd"> templately.py --version</span>

<span class="sd">Options:</span>
<span class="sd"> -h --help     Show this screen.</span>
<span class="sd"> --version     Show version.</span>


<span class="sd">Details:</span>
<span class="sd">- &lt;template&gt; is the template file</span>
<span class="sd">- &lt;placeholder=file&gt; : * &quot;placeholder&quot; is the string to search inside the template</span>
<span class="sd">                       * &quot;file&quot; is a file path of which contents gets injected inside the template</span>
<span class="sd">                       &gt; &quot;=&quot; is the char that divides placeholder and the file path</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="n">__author__</span> <span class="o">=</span> <span class="s2">&quot;Zenaro Stefano&quot;</span>
<span class="n">__version__</span> <span class="o">=</span> <span class="s2">&quot;01_01 2019-12-21&quot;</span>

<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">from</span> <span class="nn">docopt</span> <span class="k">import</span> <span class="n">docopt</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="n">boold</span> <span class="o">=</span> <span class="kc">False</span>     <span class="c1"># shows/hides debug messages</span>
<span class="n">testmode</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># shows/hides errors (during unit testing error prints are hidden from the caller)</span>

<span class="c1"># pattern variables: default variables say &quot;{{ ty.&lt;?&gt; }}&quot;, &lt;?&gt; is the placeholder name</span>
<span class="n">opening_tag</span> <span class="o">=</span> <span class="s2">&quot;{{&quot;</span>
<span class="n">pattern_opening</span> <span class="o">=</span> <span class="s2">&quot;ty.&quot;</span>
<span class="n">closing_tag</span> <span class="o">=</span> <span class="s2">&quot;}}&quot;</span>


<div class="viewcode-block" id="re_builder"><a class="viewcode-back" href="../index.html#templately.re_builder">[docs]</a><span class="k">def</span> <span class="nf">re_builder</span><span class="p">(</span><span class="n">t_opening_tag</span><span class="p">,</span> <span class="n">t_pattern_opening</span><span class="p">,</span> <span class="n">t_closing_tag</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;Builds the regex pattern string and returns its compiled version.</span>

<span class="sd">    The function **escapes t_opening_tag, t_pattern_opening and t_closing_tag**</span>
<span class="sd">    using the :func:`re.escape()` function</span>
<span class="sd">    and then **concatenates them** into a regex pattern string.</span>

<span class="sd">    The **regex string gets compiled** with the :func:`re.compile()` function and is returned by the function.</span>

<span class="sd">    Usage example:</span>

<span class="sd">    &gt;&gt;&gt; regex_pattern = re_builder(&quot;{{&quot;, &quot;ty.&quot;, &quot;}}&quot;)</span>
<span class="sd">    &gt;&gt;&gt; print(regex_pattern)</span>
<span class="sd">    re.compile(&#39;\\{\\{\\s*ty\\.(.*?)\\s*\\}\\}&#39;)</span>

<span class="sd">    This regex will match the strings that start with `{{ty.` and end with &quot;}}&quot;</span>
<span class="sd">    &gt; One or more spaces after &quot;{{&quot; and before &quot;}}&quot; are valid</span>

<span class="sd">    :param str t_opening_tag: patterns opening tag</span>
<span class="sd">    :param str t_pattern_opening: patterns starting string</span>
<span class="sd">    :param str t_closing_tag: patterns closing tag</span>
<span class="sd">    :return t_regex_pattern: compiled regex pattern</span>
<span class="sd">    :rtype: :class:`_sre.SRE_Pattern`</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">boold</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Internal vars:&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;t_opening_tag: &#39;&quot;</span> <span class="o">+</span> <span class="n">t_opening_tag</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;t_pattern_opening: &#39;&quot;</span> <span class="o">+</span> <span class="n">t_pattern_opening</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;t_closing_tag: &#39;&quot;</span> <span class="o">+</span> <span class="n">t_closing_tag</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">)</span>

    <span class="c1"># concatenate escaped t_opening_tag, &quot;\s*&quot; ( num. X of spaces) and escaped t_pattern_opening</span>
    <span class="n">tmp_repattern_opening</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">t_opening_tag</span><span class="p">)</span> <span class="o">+</span> <span class="sa">r</span><span class="s2">&quot;\s*&quot;</span> <span class="o">+</span> <span class="n">re</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">t_pattern_opening</span><span class="p">)</span>

    <span class="c1"># concatenate &quot;\s*&quot; ( num. X of spaces) and escaped t_closing_tag</span>
    <span class="n">tmp_repattern_closing</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;\s*&quot;</span> <span class="o">+</span> <span class="n">re</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">t_closing_tag</span><span class="p">)</span>

    <span class="c1"># compile the regex pattern, which is the concatenation of tmp_repattern_opening, &quot;(.*?)&quot; and tmp_repattern_closing</span>
    <span class="c1"># &gt; &quot;(.*?)&quot; collects the characters after tmp_repattern_opening and before tmp_repattern_closing</span>
    <span class="n">t_regex_pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">tmp_repattern_opening</span> <span class="o">+</span> <span class="sa">r</span><span class="s2">&quot;(.*?)&quot;</span> <span class="o">+</span> <span class="n">tmp_repattern_closing</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">boold</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;t_regex_pattern: &#39;&quot;</span><span class="p">,</span> <span class="n">t_regex_pattern</span><span class="p">,</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">t_regex_pattern</span></div>


<div class="viewcode-block" id="get_placeholders"><a class="viewcode-back" href="../index.html#templately.get_placeholders">[docs]</a><span class="k">def</span> <span class="nf">get_placeholders</span><span class="p">(</span><span class="n">t_fin</span><span class="p">,</span> <span class="n">t_regex_pattern</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;Reads the lines of &lt;t_fin&gt; (template file) one by one and returns the placeholders.</span>

<span class="sd">    The file is read one line at the time and the regex pattern</span>
<span class="sd">    is used to search for the placeholders inside the line</span>

<span class="sd">    Example:</span>

<span class="sd">    cat template.txt</span>
<span class="sd">    this is</span>
<span class="sd">    {{ ty.placeholder1 }} a {{ ty.placeholder2 }}</span>
<span class="sd">    test {{ ty.placeholder3 }}</span>
<span class="sd">    EOF</span>

<span class="sd">    &gt;&gt;&gt; get_placeholders(t_fin, &#39;\\{\\{\\s*ty\\.(.*?)\\s*\\}\\}&#39;)</span>
<span class="sd">    [&quot;placeholder1&quot;, &quot;placeholder2&quot;, &quot;placeholder3&quot;]</span>

<span class="sd">    :param t_fin: template file</span>
<span class="sd">    :type t_fin: :class:`_io.TextIO`</span>
<span class="sd">    :param t_regex_pattern: regex pattern</span>
<span class="sd">    :type t_regex_pattern: :class:`_sre.SRE_Pattern`</span>
<span class="sd">    :return t_placeholders: list of template placeholders</span>
<span class="sd">    :rtype t_placeholders: list</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># list of the template placeholder</span>
    <span class="n">t_placeholders</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># read the first line of the file</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">t_fin</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>

    <span class="c1"># loop through the file</span>
    <span class="k">while</span> <span class="n">line</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>

        <span class="n">t_placeholders</span> <span class="o">+=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">t_regex_pattern</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>

        <span class="c1"># read the next line</span>
        <span class="n">line</span> <span class="o">=</span> <span class="n">t_fin</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">t_placeholders</span></div>


<div class="viewcode-block" id="equal_vectors"><a class="viewcode-back" href="../index.html#templately.equal_vectors">[docs]</a><span class="k">def</span> <span class="nf">equal_vectors</span><span class="p">(</span><span class="n">t_v1</span><span class="p">,</span> <span class="n">t_v2</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;Checks if the vectors are equal</span>

<span class="sd">    The two vectors are copied (to maintain the original values),</span>
<span class="sd">    the copies get sorted and a &quot;==&quot; operator checks if these vectors are equal.</span>
<span class="sd">    The result of the operator is returned.</span>
<span class="sd">    &gt; The vectors have to have the same elements, which means that</span>
<span class="sd">    &gt; they also have to have the same number of elements</span>

<span class="sd">    :param list t_v1: first list of elements</span>
<span class="sd">    :param list t_v2: second list of elements</span>
<span class="sd">    :return are_equal: boolean value that indicates if t_v1 and t_v2 are equal</span>
<span class="sd">    :rtype are_equal: bool</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># boolean that tells if t_v1 and t_v2 are equal</span>
    <span class="n">are_equal</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># the input vectors get copied to maintain their original value</span>
    <span class="n">t_v1_copy</span> <span class="o">=</span> <span class="n">t_v1</span><span class="p">[:]</span>
    <span class="n">t_v2_copy</span> <span class="o">=</span> <span class="n">t_v2</span><span class="p">[:]</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># the vector copies get sorted</span>
        <span class="n">t_v1_copy</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">t_v2_copy</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>

    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;Can&#39;t sort an array with integers and strings&quot;</span><span class="p">)</span>

    <span class="c1"># these vectors are then compared</span>
    <span class="k">if</span> <span class="n">t_v1_copy</span> <span class="o">==</span> <span class="n">t_v2_copy</span><span class="p">:</span>
        <span class="n">are_equal</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">return</span> <span class="n">are_equal</span></div>


<div class="viewcode-block" id="has_duplicates"><a class="viewcode-back" href="../index.html#templately.has_duplicates">[docs]</a><span class="k">def</span> <span class="nf">has_duplicates</span><span class="p">(</span><span class="n">t_vector</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;Checks if there are duplicates inside the passed vector</span>

<span class="sd">    The function loops for each element inside the vector, the loop</span>
<span class="sd">    stops if the vector ends or if a duplicate element is found.</span>

<span class="sd">    if one element is present more than one time the vector contains duplicates</span>
<span class="sd">    &gt; count() is used to count how many times the element is present inside the vector</span>

<span class="sd">    :param list t_vector: list with elements</span>
<span class="sd">    :return contains_duplicates: boolean, True if the list t_vector contains duplicates, False otherwise</span>
<span class="sd">    :rtype contains_duplicates: bool</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">contains_duplicates</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># loop for each element inside the vector</span>
    <span class="c1"># stop if the vector ends or if a duplicate element is found</span>
    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">t_vector</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">contains_duplicates</span><span class="p">:</span>

        <span class="c1"># if the element is present more than one time, the vector contains duplicates</span>
        <span class="k">if</span> <span class="n">t_vector</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">t_vector</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">contains_duplicates</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="n">contains_duplicates</span></div>


<div class="viewcode-block" id="check_input_placeholders"><a class="viewcode-back" href="../index.html#templately.check_input_placeholders">[docs]</a><span class="k">def</span> <span class="nf">check_input_placeholders</span><span class="p">(</span><span class="n">t_placeholders</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;Makes sure that all the input placeholders are correct</span>

<span class="sd">    Specifically it checks if the placeholders contain only one equal sign,</span>
<span class="sd">    and if the file paths exist.</span>
<span class="sd">    The function returns a dictionary with the check result and the name</span>
<span class="sd">    of the placeholders.</span>

<span class="sd">    :param list t_placeholders: list of input placeholders</span>
<span class="sd">    :return check_result: dictionary with a bool check result and a list with placeholders names</span>
<span class="sd">    :rtype check_result: dict</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># dictionary that gets returned by the function</span>
    <span class="n">check_result</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;correct_placeholder&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>  <span class="c1"># all the checks are positive</span>
                    <span class="s2">&quot;placeholders_names&quot;</span><span class="p">:</span> <span class="p">[]</span>      <span class="c1"># vector with the placeholder names</span>
                    <span class="p">}</span>

    <span class="c1"># check if there is at least one placeholder</span>
    <span class="c1"># &gt; this shouldn&#39;t happen since docopt requires at least one placeholder, otherwise it shows the help screen,</span>
    <span class="c1"># &gt; better be safe than sorry</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">t_placeholders</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">testmode</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Bad placeholders: the input doesn&#39;t have placeholders&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
        <span class="n">check_result</span><span class="p">[</span><span class="s2">&quot;correct_placeholder&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># loop for each placeholder</span>
    <span class="k">for</span> <span class="n">placeholder</span> <span class="ow">in</span> <span class="n">t_placeholders</span><span class="p">:</span>
        <span class="c1"># the placeholder has to have one equal sign</span>
        <span class="k">if</span> <span class="n">placeholder</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>

            <span class="c1"># save the placeholder name</span>
            <span class="n">placeholder_name</span> <span class="o">=</span> <span class="n">placeholder</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="c1"># add it to the vector inside the check_result dict</span>
            <span class="n">check_result</span><span class="p">[</span><span class="s2">&quot;placeholders_names&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">placeholder_name</span><span class="p">)</span>

            <span class="c1"># save the file path</span>
            <span class="n">file_path</span> <span class="o">=</span> <span class="n">placeholder</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>

            <span class="c1"># check if the file exists</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">testmode</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;File to inject doesn&#39;t exist: &#39;&quot;</span> <span class="o">+</span> <span class="n">placeholder</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
                <span class="n">check_result</span><span class="p">[</span><span class="s2">&quot;correct_placeholder&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">testmode</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Bad placeholder (use one &#39;=&#39; per placeholder): &#39;&quot;</span> <span class="o">+</span> <span class="n">placeholder</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
            <span class="n">check_result</span><span class="p">[</span><span class="s2">&quot;correct_placeholder&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="n">check_result</span></div>


<div class="viewcode-block" id="check_placeholder_arguments"><a class="viewcode-back" href="../index.html#templately.check_placeholder_arguments">[docs]</a><span class="k">def</span> <span class="nf">check_placeholder_arguments</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">t_template_placeholders</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;Makes sure that every placeholder argument is written in a valid form.</span>

<span class="sd">    Specifically it checks :</span>
<span class="sd">    - if the input placeholders contain only one equal sign,</span>
<span class="sd">    and if the file paths exist with the :func:`check_input_placeholders()` function</span>
<span class="sd">    - it makes sure that both the template placeholders and input placeholders have no duplicates</span>
<span class="sd">    with the :func:`has_duplicates()` function</span>
<span class="sd">    - it makes sure that the template placeholders and input placeholders are equal</span>
<span class="sd">    with the :func:`equal_vectors()` function</span>

<span class="sd">    :param args: dictionary with input arguments</span>
<span class="sd">    :type args: docopt.Dict</span>
<span class="sd">    :param list t_template_placeholders: list with the placeholders of the template file</span>
<span class="sd">    :return correct_placeholder: boolean value, True if everything is correct, False otherwise</span>
<span class="sd">    :rtype correct_placeholder: bool</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># copy the function input, never change the original values</span>
    <span class="n">t_arguments</span> <span class="o">=</span> <span class="n">args</span>

    <span class="c1"># check if the input placeholders are correct and get the placeholder names</span>
    <span class="n">check_ip_res</span> <span class="o">=</span> <span class="n">check_input_placeholders</span><span class="p">(</span><span class="n">t_arguments</span><span class="p">[</span><span class="s1">&#39;&lt;placeholder=file&gt;&#39;</span><span class="p">])</span>

    <span class="c1"># if this variable is and stays True, the placeholders are correct</span>
    <span class="n">correct_placeholder</span> <span class="o">=</span> <span class="n">check_ip_res</span><span class="p">[</span><span class="s2">&quot;correct_placeholder&quot;</span><span class="p">]</span>

    <span class="c1"># check if the template has at least one placeholder</span>
    <span class="c1"># &gt; it shouldn&#39;t be a problem: the input placeholders should be at least one</span>
    <span class="c1"># &gt; and the template placeholders must be equal to the input placeholder.</span>
    <span class="c1"># &gt; This error is more useful to the user than to the script itself</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">t_template_placeholders</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">testmode</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Bad placeholders: the template has no placeholders&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
        <span class="n">correct_placeholder</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># check if the input has placeholder duplicates</span>
    <span class="k">if</span> <span class="n">has_duplicates</span><span class="p">(</span><span class="n">check_ip_res</span><span class="p">[</span><span class="s2">&quot;placeholders_names&quot;</span><span class="p">]):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">testmode</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Bad placeholders: the input has placeholders duplicates&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
        <span class="n">correct_placeholder</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># check if the template has placeholder duplicates</span>
    <span class="k">if</span> <span class="n">has_duplicates</span><span class="p">(</span><span class="n">t_template_placeholders</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">testmode</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Bad placeholders: the template has duplicates of placeholders&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
        <span class="n">correct_placeholder</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># check if the template placeholders and the input placeholders are the same</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">equal_vectors</span><span class="p">(</span><span class="n">check_ip_res</span><span class="p">[</span><span class="s2">&quot;placeholders_names&quot;</span><span class="p">],</span> <span class="n">t_template_placeholders</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">testmode</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Bad placeholders: the input and the template placeholders must be the same&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
        <span class="n">correct_placeholder</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="n">correct_placeholder</span></div>


<div class="viewcode-block" id="check_repattern_arguments"><a class="viewcode-back" href="../index.html#templately.check_repattern_arguments">[docs]</a><span class="k">def</span> <span class="nf">check_repattern_arguments</span><span class="p">(</span><span class="n">args</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;The function checks if the user passed a specific placeholder pattern and returns the correct configuration.</span>

<span class="sd">    The function checks:</span>
<span class="sd">    - if the opening tag wasn&#39;t specified by the user, if so use the default</span>
<span class="sd">    - if the pattern opening wasn&#39;t specified by the user, if so use the default</span>
<span class="sd">    - if the closing tag wasn&#39;t specified by the user, if so use the default</span>

<span class="sd">    Example:</span>

<span class="sd">    &gt;&gt;&gt; check_repattern_arguments({&quot;--ot&quot;: None, &quot;--po&quot;: None, &quot;--ct&quot;: None})</span>
<span class="sd">    {&quot;--ot&quot;: &quot;{{&quot;, &quot;--po&quot;: &quot;ty.&quot;, &quot;--ct&quot;: &quot;}}&quot;}</span>
<span class="sd">    &gt;&gt;&gt; check_repattern_arguments({&quot;--ot&quot;: &quot;%%&quot;, &quot;--po&quot;: &quot;template.&quot;, &quot;--ct&quot;: &quot;%%&quot;})</span>
<span class="sd">    {&quot;--ot&quot;: &quot;%%&quot;, &quot;--po&quot;: &quot;template.&quot;, &quot;--ct&quot;: &quot;%%&quot;}</span>

<span class="sd">    :param dict args: dictionary with the input arguments</span>
<span class="sd">    :return t_arguments: dictionary with valid the input argument</span>
<span class="sd">    :rtype t_arguments: dict</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># copy the function input, never change the original values</span>
    <span class="n">t_arguments</span> <span class="o">=</span> <span class="n">args</span>

    <span class="c1"># if the input doesn&#39;t specify an opening tag, use the default one</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">t_arguments</span><span class="p">[</span><span class="s1">&#39;--ot&#39;</span><span class="p">]:</span>
        <span class="n">t_arguments</span><span class="p">[</span><span class="s1">&#39;--ot&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">opening_tag</span>

    <span class="c1"># if the input doesn&#39;t specify a pattern opening, use the default one</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">t_arguments</span><span class="p">[</span><span class="s1">&#39;--po&#39;</span><span class="p">]:</span>
        <span class="n">t_arguments</span><span class="p">[</span><span class="s1">&#39;--po&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pattern_opening</span>

    <span class="c1"># if the input doesn&#39;t specify a closing tag, use the default one</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">t_arguments</span><span class="p">[</span><span class="s1">&#39;--ct&#39;</span><span class="p">]:</span>
        <span class="n">t_arguments</span><span class="p">[</span><span class="s1">&#39;--ct&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">closing_tag</span>

    <span class="k">if</span> <span class="n">boold</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Checked arguments:&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">t_arguments</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">t_arguments</span></div>


<div class="viewcode-block" id="output_builder"><a class="viewcode-back" href="../index.html#templately.output_builder">[docs]</a><span class="k">def</span> <span class="nf">output_builder</span><span class="p">(</span><span class="n">t_fin</span><span class="p">,</span> <span class="n">t_args</span><span class="p">,</span> <span class="n">t_regex_pattern</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Builds the output file from the template file combined with placeholder files.</span>

<span class="sd">    The function opens the output file (we know that the output directory exists),</span>
<span class="sd">    then the template file &lt;t_fin&gt; is read one line at a time.</span>

<span class="sd">    A regex pattern is used per line to know if it has placeholder(s),</span>
<span class="sd">    if it has at least one placeholder an input placeholder is sought</span>
<span class="sd">    to get the path of the file to inject into the output.</span>
<span class="sd">    &gt; The file to inject is also read one line at a time</span>

<span class="sd">    The content of the file is written to the output file and then</span>
<span class="sd">    this cycle repeats for all the placeholders of the line.</span>

<span class="sd">    If there is no placeholder the line of the template file is directly written to the output.</span>

<span class="sd">    Example:</span>

<span class="sd">    1. this line is read from the template file</span>
<span class="sd">    line = &#39;this {{ ty.placeholder1 }} is a {{ ty.placeholder2 }} test\\n&#39;</span>

<span class="sd">    2. the regex ( &#39;{{ ty.&lt;?&gt; }}&#39; ) finds at least one match, a loop is used to read the first one, the second one, ...</span>

<span class="sd">    3. The part before the placeholder is written to the output file</span>

<span class="sd">    4. The placeholder ( &#39;&lt;?&gt;&#39;, &#39;placeholder1&#39; ) is sought with another loop inside the input.</span>
<span class="sd">    &gt; We already know that the input has a &#39;placeholder1=&lt;path1&gt;&#39;</span>

<span class="sd">    5. The file to inject path is read from the input placeholder (&lt;path1&gt;) and it is used to read that file.</span>
<span class="sd">    The content of the file is written inside the output</span>

<span class="sd">    6. Phase 3, 4, 5 are repeated until there are placeholders in the line</span>

<span class="sd">    7. When all the placeholders have been substituted by the &quot;file to inject&quot; content, the part after</span>
<span class="sd">    the last placeholder is written to the output file</span>

<span class="sd">    8. The next line of the template file is read and everything repeats itself again</span>

<span class="sd">    &gt; If there was no placeholder inside the line, that line is directly written to the output file</span>

<span class="sd">    :param t_fin: template file</span>
<span class="sd">    :type t_fin: :class:`_io.TextIO`</span>
<span class="sd">    :param dict t_args: dictionary with all the input from the terminal</span>
<span class="sd">    :param t_regex_pattern: regex pattern</span>
<span class="sd">    :type t_regex_pattern: :class:`_sre.SRE_Pattern`</span>
<span class="sd">    :return: None</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">t_args</span><span class="p">[</span><span class="s2">&quot;&lt;output&gt;&quot;</span><span class="p">],</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fout</span><span class="p">:</span>
        <span class="c1"># read the first line of the file</span>
        <span class="n">line</span> <span class="o">=</span> <span class="n">t_fin</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>

        <span class="c1"># loop through the file</span>
        <span class="k">while</span> <span class="n">line</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>

            <span class="c1"># saving the line on another variable that will hold replace() changes</span>
            <span class="n">temp_line</span> <span class="o">=</span> <span class="n">line</span>

            <span class="c1"># get an iterator for the matches</span>
            <span class="n">t_placeholders</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">t_regex_pattern</span><span class="p">,</span> <span class="n">temp_line</span><span class="p">)</span>

            <span class="c1"># check if at least one match was found</span>
            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">t_placeholders</span><span class="p">):</span>

                <span class="c1"># set a default value to the suffix</span>
                <span class="c1"># &gt; in theory this is useless, the suffix will always have a value before the fout.write(suffix)</span>
                <span class="c1"># &gt; but &quot;better be safe than sorry&quot;</span>
                <span class="n">suffix</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

                <span class="c1"># loop for each element in the iterator</span>
                <span class="c1"># &gt; for placeholder in placeholders doesn&#39;t work for more than one placeholder per line</span>
                <span class="k">for</span> <span class="n">placeholder</span> <span class="ow">in</span> <span class="n">re</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">t_regex_pattern</span><span class="p">,</span> <span class="n">temp_line</span><span class="p">):</span>

                    <span class="c1"># from the regex get the group with the part of string to substitute</span>
                    <span class="c1"># examples use the default pattern: {{ ty.&lt;?&gt; }}</span>
                    <span class="n">tosub</span> <span class="o">=</span> <span class="n">placeholder</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># example: &#39;{{ ty.&lt;?&gt; }}&#39;</span>

                    <span class="c1"># from the regex get the group with the name of the placeholder</span>
                    <span class="n">placeholder_name</span> <span class="o">=</span> <span class="n">placeholder</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># example: &#39;&lt;?&gt;&#39;</span>

                    <span class="c1"># divide line into 3 parts:</span>
                    <span class="c1"># the part before the separator, the separator itself, and the part after the separator</span>
                    <span class="n">prefix</span><span class="p">,</span> <span class="n">sep</span><span class="p">,</span> <span class="n">suffix</span> <span class="o">=</span> <span class="n">temp_line</span><span class="o">.</span><span class="n">partition</span><span class="p">(</span><span class="n">tosub</span><span class="p">)</span>

                    <span class="c1"># write the part of the template line before the placeholder</span>
                    <span class="n">fout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>

                    <span class="n">found_placeholder</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># the placeholder was found in the arguments</span>
                    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># temporary variable</span>

                    <span class="c1"># loop for each placeholder input</span>
                    <span class="c1"># &gt; the loop stops when a placeholder was found or if the full array was read</span>
                    <span class="c1"># &gt; (this should be impossible, we made sure that the placeholder exists during the script exec)</span>
                    <span class="k">while</span> <span class="ow">not</span> <span class="n">found_placeholder</span> <span class="ow">and</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">t_args</span><span class="p">[</span><span class="s2">&quot;&lt;placeholder=file&gt;&quot;</span><span class="p">]):</span>
                        <span class="c1"># save the input placeholder</span>
                        <span class="n">input_placeholder</span> <span class="o">=</span> <span class="n">t_args</span><span class="p">[</span><span class="s2">&quot;&lt;placeholder=file&gt;&quot;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span>

                        <span class="c1"># if the input placeholder has the name of the placeholder in the template file</span>
                        <span class="k">if</span> <span class="n">input_placeholder</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">placeholder_name</span><span class="p">:</span>
                            <span class="c1"># get the path of the file to inject</span>
                            <span class="n">file_path</span> <span class="o">=</span> <span class="n">input_placeholder</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>

                            <span class="c1"># open it</span>
                            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fpo</span><span class="p">:</span>
                                <span class="c1"># read the first line</span>
                                <span class="n">fpo_line</span> <span class="o">=</span> <span class="n">fpo</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>

                                <span class="c1"># read the file one line at a time</span>
                                <span class="k">while</span> <span class="n">fpo_line</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                                    <span class="c1"># write the line of the file to inject inside the output file</span>
                                    <span class="n">fout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">fpo_line</span><span class="p">)</span>

                                    <span class="c1"># read the next file</span>
                                    <span class="n">fpo_line</span> <span class="o">=</span> <span class="n">fpo</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>

                            <span class="c1"># the placeholder was found, stop the loop</span>
                            <span class="n">found_placeholder</span> <span class="o">=</span> <span class="kc">True</span>

                        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

                    <span class="c1"># modify the temporary variable with the line,</span>
                    <span class="c1"># the part before the placeholder and the placeholder itself are deleted from the line</span>
                    <span class="c1"># &gt; this is useful when two or more placeholders are on the same line because the prefix</span>
                    <span class="c1"># &gt; of the second, third ... placeholder would have the previous placeholder in it</span>
                    <span class="n">temp_line</span> <span class="o">=</span> <span class="n">temp_line</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">prefix</span> <span class="o">+</span> <span class="n">tosub</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>

                <span class="c1"># write the part of the template line after the placeholder</span>
                <span class="n">fout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># no matches/placeholders were found, the whole line gets written to the output</span>
                <span class="n">fout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">temp_line</span><span class="p">)</span>

            <span class="c1"># read the next line</span>
            <span class="n">line</span> <span class="o">=</span> <span class="n">t_fin</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span></div>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>

    <span class="k">if</span> <span class="n">boold</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Start&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">50</span><span class="p">)</span>

    <span class="c1"># get from the scripts docstring the possible arguments and collect them from the user</span>
    <span class="n">arguments</span> <span class="o">=</span> <span class="n">docopt</span><span class="p">(</span><span class="vm">__doc__</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="n">__version__</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">boold</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Arguments:&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">arguments</span><span class="p">)</span>

    <span class="c1"># if the template file doesn&#39;t exist, output as a standard error and exit with status 1</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">arguments</span><span class="p">[</span><span class="s1">&#39;&lt;template&gt;&#39;</span><span class="p">]):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Template file not found! (or it wasn&#39;t a file)&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

    <span class="c1"># save the output directory path</span>
    <span class="n">output_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">arguments</span><span class="p">[</span><span class="s1">&#39;&lt;output&gt;&#39;</span><span class="p">]))</span>

    <span class="c1"># check if the output dir doesn&#39;t exist, if so exit with status 3</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">output_path</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The output folder doesn&#39;t exist!&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

    <span class="c1"># open the template file</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">arguments</span><span class="p">[</span><span class="s1">&#39;&lt;template&gt;&#39;</span><span class="p">],</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fin</span><span class="p">:</span>

        <span class="c1"># check if some of the regex pattern arguments have been passed</span>
        <span class="n">c_re_args</span> <span class="o">=</span> <span class="n">check_repattern_arguments</span><span class="p">(</span><span class="n">arguments</span><span class="p">)</span>

        <span class="c1"># get the regex of the placeholders pattern</span>
        <span class="n">regex_pattern</span> <span class="o">=</span> <span class="n">re_builder</span><span class="p">(</span><span class="n">c_re_args</span><span class="p">[</span><span class="s1">&#39;--ot&#39;</span><span class="p">],</span> <span class="n">c_re_args</span><span class="p">[</span><span class="s1">&#39;--po&#39;</span><span class="p">],</span> <span class="n">c_re_args</span><span class="p">[</span><span class="s1">&#39;--ct&#39;</span><span class="p">])</span>

        <span class="c1"># get the placeholders of the template file</span>
        <span class="n">placeholders</span> <span class="o">=</span> <span class="n">get_placeholders</span><span class="p">(</span><span class="n">fin</span><span class="p">,</span> <span class="n">regex_pattern</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">boold</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;placeholders&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">placeholders</span><span class="p">)</span>

        <span class="c1"># check that all the arguments are correct</span>
        <span class="n">corr_placeholder</span> <span class="o">=</span> <span class="n">check_placeholder_arguments</span><span class="p">(</span><span class="n">c_re_args</span><span class="p">,</span> <span class="n">placeholders</span><span class="p">)</span>

        <span class="c1"># if at least one of the placeholders are incorrect, exit with status 2</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">corr_placeholder</span><span class="p">:</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

        <span class="c1"># now that all the checks have been made, go back to the start of the file</span>
        <span class="n">fin</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="c1"># build the output file</span>
        <span class="n">output_builder</span><span class="p">(</span><span class="n">fin</span><span class="p">,</span> <span class="n">c_re_args</span><span class="p">,</span> <span class="n">regex_pattern</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">boold</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">50</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Stop&quot;</span><span class="p">)</span>
</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">templately</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, mario33881.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>